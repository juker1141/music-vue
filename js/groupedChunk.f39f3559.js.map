{"version":3,"sources":["webpack:///./node_modules/core-js/internals/engine-ff-version.js","webpack:///./node_modules/core-js/modules/es.regexp.to-string.js","webpack:///./node_modules/core-js/modules/es.array.sort.js","webpack:///./node_modules/core-js/internals/engine-webkit-version.js","webpack:///./src/views/Song.vue","webpack:///./src/views/Song.vue?2fba","webpack:///./node_modules/core-js/internals/array-sort.js","webpack:///./node_modules/core-js/internals/engine-is-ie-or-edge.js","webpack:///./node_modules/core-js/modules/es.array.slice.js"],"names":["userAgent","firefox","match","module","exports","uncurryThis","PROPER_FUNCTION_NAME","PROPER","redefine","anObject","isPrototypeOf","$toString","fails","regExpFlags","TO_STRING","RegExpPrototype","RegExp","prototype","n$ToString","getFlags","NOT_GENERIC","call","source","flags","INCORRECT_NAME","name","R","this","p","rf","f","undefined","unsafe","$","aCallable","toObject","lengthOfArrayLike","toString","internalSort","arrayMethodIsStrict","FF","IE_OR_EDGE","V8","WEBKIT","test","un$Sort","sort","push","FAILS_ON_UNDEFINED","FAILS_ON_NULL","STRICT_METHOD","STABLE_SORT","code","chr","value","index","result","String","fromCharCode","k","v","a","b","length","charAt","FORCED","getSortCompare","comparefn","x","y","target","proto","forced","array","itemsLength","items","arrayLength","webkit","class","style","id","type","newSong","song","playing","modifiedName","genre","$n","$tc","commentCount","commentShowAlert","commentAlertVariant","commentAlertMessage","userLoggedIn","validation-schema","schema","addComment","as","placeholder","disabled","commentInSubmission","sortedComments","comment","key","docID","datePosted","content","data","comments","computed","state","auth","slice","Date","watch","newVal","$route","query","$router","methods","values","resetForm","sid","params","currentUser","displayName","uid","add","doc","update","getComments","where","get","snapshots","forEach","document","beforeRouteEnter","to","from","next","docSnapshot","vm","exists","__exports__","render","arraySlice","floor","Math","mergeSort","middle","insertionSort","merge","element","j","i","left","right","llength","rlength","lindex","rindex","UA","global","isArray","isConstructor","isObject","toAbsoluteIndex","toIndexedObject","createProperty","wellKnownSymbol","arrayMethodHasSpeciesSupport","un$Slice","HAS_SPECIES_SUPPORT","SPECIES","Array","max","start","end","Constructor","n","O","fin","constructor"],"mappings":"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","file":"js/groupedChunk.f39f3559.js","sourcesContent":["var userAgent = require('../internals/engine-user-agent');\n\nvar firefox = userAgent.match(/firefox\\/(\\d+)/i);\n\nmodule.exports = !!firefox && +firefox[1];\n","'use strict';\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar PROPER_FUNCTION_NAME = require('../internals/function-name').PROPER;\nvar redefine = require('../internals/redefine');\nvar anObject = require('../internals/an-object');\nvar isPrototypeOf = require('../internals/object-is-prototype-of');\nvar $toString = require('../internals/to-string');\nvar fails = require('../internals/fails');\nvar regExpFlags = require('../internals/regexp-flags');\n\nvar TO_STRING = 'toString';\nvar RegExpPrototype = RegExp.prototype;\nvar n$ToString = RegExpPrototype[TO_STRING];\nvar getFlags = uncurryThis(regExpFlags);\n\nvar NOT_GENERIC = fails(function () { return n$ToString.call({ source: 'a', flags: 'b' }) != '/a/b'; });\n// FF44- RegExp#toString has a wrong name\nvar INCORRECT_NAME = PROPER_FUNCTION_NAME && n$ToString.name != TO_STRING;\n\n// `RegExp.prototype.toString` method\n// https://tc39.es/ecma262/#sec-regexp.prototype.tostring\nif (NOT_GENERIC || INCORRECT_NAME) {\n  redefine(RegExp.prototype, TO_STRING, function toString() {\n    var R = anObject(this);\n    var p = $toString(R.source);\n    var rf = R.flags;\n    var f = $toString(rf === undefined && isPrototypeOf(RegExpPrototype, R) && !('flags' in RegExpPrototype) ? getFlags(R) : rf);\n    return '/' + p + '/' + f;\n  }, { unsafe: true });\n}\n","'use strict';\nvar $ = require('../internals/export');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar aCallable = require('../internals/a-callable');\nvar toObject = require('../internals/to-object');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\nvar toString = require('../internals/to-string');\nvar fails = require('../internals/fails');\nvar internalSort = require('../internals/array-sort');\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar FF = require('../internals/engine-ff-version');\nvar IE_OR_EDGE = require('../internals/engine-is-ie-or-edge');\nvar V8 = require('../internals/engine-v8-version');\nvar WEBKIT = require('../internals/engine-webkit-version');\n\nvar test = [];\nvar un$Sort = uncurryThis(test.sort);\nvar push = uncurryThis(test.push);\n\n// IE8-\nvar FAILS_ON_UNDEFINED = fails(function () {\n  test.sort(undefined);\n});\n// V8 bug\nvar FAILS_ON_NULL = fails(function () {\n  test.sort(null);\n});\n// Old WebKit\nvar STRICT_METHOD = arrayMethodIsStrict('sort');\n\nvar STABLE_SORT = !fails(function () {\n  // feature detection can be too slow, so check engines versions\n  if (V8) return V8 < 70;\n  if (FF && FF > 3) return;\n  if (IE_OR_EDGE) return true;\n  if (WEBKIT) return WEBKIT < 603;\n\n  var result = '';\n  var code, chr, value, index;\n\n  // generate an array with more 512 elements (Chakra and old V8 fails only in this case)\n  for (code = 65; code < 76; code++) {\n    chr = String.fromCharCode(code);\n\n    switch (code) {\n      case 66: case 69: case 70: case 72: value = 3; break;\n      case 68: case 71: value = 4; break;\n      default: value = 2;\n    }\n\n    for (index = 0; index < 47; index++) {\n      test.push({ k: chr + index, v: value });\n    }\n  }\n\n  test.sort(function (a, b) { return b.v - a.v; });\n\n  for (index = 0; index < test.length; index++) {\n    chr = test[index].k.charAt(0);\n    if (result.charAt(result.length - 1) !== chr) result += chr;\n  }\n\n  return result !== 'DGBEFHACIJK';\n});\n\nvar FORCED = FAILS_ON_UNDEFINED || !FAILS_ON_NULL || !STRICT_METHOD || !STABLE_SORT;\n\nvar getSortCompare = function (comparefn) {\n  return function (x, y) {\n    if (y === undefined) return -1;\n    if (x === undefined) return 1;\n    if (comparefn !== undefined) return +comparefn(x, y) || 0;\n    return toString(x) > toString(y) ? 1 : -1;\n  };\n};\n\n// `Array.prototype.sort` method\n// https://tc39.es/ecma262/#sec-array.prototype.sort\n$({ target: 'Array', proto: true, forced: FORCED }, {\n  sort: function sort(comparefn) {\n    if (comparefn !== undefined) aCallable(comparefn);\n\n    var array = toObject(this);\n\n    if (STABLE_SORT) return comparefn === undefined ? un$Sort(array) : un$Sort(array, comparefn);\n\n    var items = [];\n    var arrayLength = lengthOfArrayLike(array);\n    var itemsLength, index;\n\n    for (index = 0; index < arrayLength; index++) {\n      if (index in array) push(items, array[index]);\n    }\n\n    internalSort(items, getSortCompare(comparefn));\n\n    itemsLength = items.length;\n    index = 0;\n\n    while (index < itemsLength) array[index] = items[index++];\n    while (index < arrayLength) delete array[index++];\n\n    return array;\n  }\n});\n","var userAgent = require('../internals/engine-user-agent');\n\nvar webkit = userAgent.match(/AppleWebKit\\/(\\d+)\\./);\n\nmodule.exports = !!webkit && +webkit[1];\n","<template>\n  <main>\n    <!-- Music Header -->\n    <section class=\"w-full mb-8 py-14 text-center text-white relative\">\n      <div\n        class=\"absolute inset-0 w-full h-full box-border bg-contain music-bg\"\n        style=\"background-image: url(/assets/img/song-header.png)\"\n      ></div>\n      <div class=\"container mx-auto flex items-center\">\n        <!-- Play/Pause Button -->\n        <button\n          type=\"button\"\n          class=\"z-50 p-8 text-3xl bg-white text-black rounded-full focus:outline-none flex items-center justify-center\"\n          @click.prevent=\"newSong(song)\"\n        >\n          <i\n            class=\"fas\"\n            :class=\"{ 'fa-play': !playing, 'fa-pause': playing }\"\n          ></i>\n        </button>\n        <div class=\"z-50 text-left ml-8\">\n          <!-- Song Info -->\n          <div class=\"text-3xl font-bold\">{{ song.modifiedName }}</div>\n          <div>{{ song.genre }}</div>\n          <div class=\"song-price\">{{ $n(1, \"currency\") }}</div>\n        </div>\n      </div>\n    </section>\n    <!-- Form -->\n    <section class=\"container mx-auto mt-6\" id=\"comments\">\n      <div\n        class=\"bg-white rounded border border-gray-200 relative flex flex-col\"\n      >\n        <div class=\"px-6 pt-6 pb-5 font-bold border-b border-gray-200\">\n          <!-- Comment Count -->\n          <span class=\"card-title\">\n            {{\n              $tc(\"song.commentCount\", song.commentCount, {\n                count: song.commentCount,\n              })\n            }}\n          </span>\n          <i class=\"fa fa-comments float-right text-green-400 text-2xl\"></i>\n        </div>\n        <div class=\"p-6\">\n          <div\n            class=\"text-white text-center font-bold p-4 mb-4\"\n            v-if=\"commentShowAlert\"\n            :class=\"commentAlertVariant\"\n          >\n            {{ commentAlertMessage }}\n          </div>\n          <VeeForm\n            :validation-schema=\"schema\"\n            @submit=\"addComment\"\n            v-if=\"userLoggedIn\"\n          >\n            <VeeField\n              as=\"textarea\"\n              name=\"comment\"\n              class=\"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded mb-4\"\n              placeholder=\"Your comment here...\"\n            ></VeeField>\n            <ErrorMessage class=\"text-red-600\" name=\"comment\" />\n            <button\n              :disabled=\"commentInSubmission\"\n              type=\"submit\"\n              class=\"py-1.5 px-3 rounded text-white bg-green-600 block\"\n            >\n              Submit\n            </button>\n          </VeeForm>\n          <!-- Sort Comments -->\n          <select\n            v-model=\"sort\"\n            class=\"block mt-4 py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded\"\n          >\n            <option value=\"1\">Latest</option>\n            <option value=\"2\">Oldest</option>\n          </select>\n        </div>\n      </div>\n    </section>\n    <!-- Comments -->\n    <ul class=\"container mx-auto\">\n      <li\n        class=\"p-6 bg-gray-50 border border-gray-200\"\n        v-for=\"comment in sortedComments\"\n        :key=\"comment.docID\"\n      >\n        <!-- Comment Author -->\n        <div class=\"mb-5\">\n          <div class=\"font-bold\">{{ comment.name }}</div>\n          <time>{{ comment.datePosted }}</time>\n        </div>\n        <p>\n          {{ comment.content }}\n        </p>\n      </li>\n    </ul>\n  </main>\n</template>\n\n<script>\nimport { mapState, mapActions, mapGetters } from \"vuex\";\nimport { songsCollection, auth, commentsCollection } from \"@/includes/firebase\";\n\nexport default {\n  name: \"Song\",\n  data() {\n    return {\n      song: {},\n      schema: {\n        comment: \"required|min:3\",\n      },\n      commentInSubmission: false,\n      commentShowAlert: false,\n      commentAlertVariant: \"bg-blue-500\",\n      commentAlertMessage: \"Please wait! Your comment is being submitted\",\n      comments: [],\n      sort: \"1\",\n    };\n  },\n  computed: {\n    ...mapState({\n      userLoggedIn: (state) => state.auth.userLoggedIn,\n    }),\n    ...mapGetters([\"playing\"]),\n    sortedComments() {\n      // 使用空的 slice 來創造一個新的陣列\n      return this.comments.slice().sort((a, b) => {\n        if (this.sort === \"1\") {\n          // 如果是正的，b會排在前面\n          return new Date(b.datePosted) - new Date(a.datePosted);\n        }\n\n        return new Date(a.datePosted) - new Date(b.datePosted);\n      });\n    },\n  },\n  watch: {\n    sort(newVal) {\n      // 如果已經在此路由參數上，就不去更新了\n      if (newVal === this.$route.query.sort) return;\n\n      this.$router.push({\n        query: {\n          sort: newVal,\n        },\n      });\n    },\n  },\n  methods: {\n    ...mapActions([\"newSong\"]),\n    async addComment(values, { resetForm }) {\n      this.commentInSubmission = true;\n      this.commentShowAlert = true;\n      this.commentAlertVariant = \"bg-blue-500\";\n      this.commentAlertMessage = \"Please wait! Your comment is being submitted.\";\n\n      const comment = {\n        content: values.comment,\n        datePosted: new Date().toString(),\n        sid: this.$route.params.id, // songId\n        name: auth.currentUser.displayName,\n        uid: auth.currentUser.uid,\n      };\n\n      await commentsCollection.add(comment);\n\n      this.song.commentCount += 1;\n      await songsCollection.doc(this.$route.params.id).update({\n        commentCount: this.song.commentCount,\n      });\n\n      this.getComments();\n\n      this.commentInSubmission = false;\n      this.commentAlertVariant = \"bg-green-500\";\n      this.commentAlertMessage = \"Comment added!\";\n\n      // validateForm 自己的 reset，可以清空表單\n      resetForm();\n    },\n    async getComments() {\n      const snapshots = await commentsCollection\n        .where(\"sid\", \"==\", this.$route.params.id)\n        .get();\n\n      this.comments = [];\n\n      snapshots.forEach((document) => {\n        this.comments.push({\n          docID: document.id,\n          ...document.data(),\n        });\n      });\n    },\n  },\n  async beforeRouteEnter(to, from, next) {\n    // 為了讓元素一起載入，使用 beforeRouteEnter 來抓資料\n    // 因為是比 created 還要早的路由守衛，所以根本沒有 this\n    // const docSnapshot = await songsCollection.doc(this.$route.params.id).get();\n    const docSnapshot = await songsCollection.doc(to.params.id).get();\n\n    next((vm) => {\n      // 若是用戶去了已不存在資料庫的歌曲頁面\n      // 將會被踢回首頁\n      if (!docSnapshot.exists) {\n        vm.$router.push({ name: \"home\" });\n        return;\n      }\n\n      const { sort } = vm.$route.query;\n\n      // eslint-disable-next-line no-param-reassign\n      vm.sort = sort === \"1\" || sort === \"2\" ? sort : \"1\";\n\n      // snapshot 要呼叫 data 才是我們需要的資料\n      // eslint-disable-next-line no-param-reassign\n      vm.song = docSnapshot.data();\n      vm.getComments();\n    });\n  },\n};\n</script>\n","import { render } from \"./Song.vue?vue&type=template&id=0b69c335\"\nimport script from \"./Song.vue?vue&type=script&lang=js\"\nexport * from \"./Song.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\tu230\\\\Desktop\\\\music-vue\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","var arraySlice = require('../internals/array-slice-simple');\n\nvar floor = Math.floor;\n\nvar mergeSort = function (array, comparefn) {\n  var length = array.length;\n  var middle = floor(length / 2);\n  return length < 8 ? insertionSort(array, comparefn) : merge(\n    array,\n    mergeSort(arraySlice(array, 0, middle), comparefn),\n    mergeSort(arraySlice(array, middle), comparefn),\n    comparefn\n  );\n};\n\nvar insertionSort = function (array, comparefn) {\n  var length = array.length;\n  var i = 1;\n  var element, j;\n\n  while (i < length) {\n    j = i;\n    element = array[i];\n    while (j && comparefn(array[j - 1], element) > 0) {\n      array[j] = array[--j];\n    }\n    if (j !== i++) array[j] = element;\n  } return array;\n};\n\nvar merge = function (array, left, right, comparefn) {\n  var llength = left.length;\n  var rlength = right.length;\n  var lindex = 0;\n  var rindex = 0;\n\n  while (lindex < llength || rindex < rlength) {\n    array[lindex + rindex] = (lindex < llength && rindex < rlength)\n      ? comparefn(left[lindex], right[rindex]) <= 0 ? left[lindex++] : right[rindex++]\n      : lindex < llength ? left[lindex++] : right[rindex++];\n  } return array;\n};\n\nmodule.exports = mergeSort;\n","var UA = require('../internals/engine-user-agent');\n\nmodule.exports = /MSIE|Trident/.test(UA);\n","'use strict';\nvar $ = require('../internals/export');\nvar global = require('../internals/global');\nvar isArray = require('../internals/is-array');\nvar isConstructor = require('../internals/is-constructor');\nvar isObject = require('../internals/is-object');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar createProperty = require('../internals/create-property');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar un$Slice = require('../internals/array-slice');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('slice');\n\nvar SPECIES = wellKnownSymbol('species');\nvar Array = global.Array;\nvar max = Math.max;\n\n// `Array.prototype.slice` method\n// https://tc39.es/ecma262/#sec-array.prototype.slice\n// fallback for not array-like ES3 strings and DOM objects\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {\n  slice: function slice(start, end) {\n    var O = toIndexedObject(this);\n    var length = lengthOfArrayLike(O);\n    var k = toAbsoluteIndex(start, length);\n    var fin = toAbsoluteIndex(end === undefined ? length : end, length);\n    // inline `ArraySpeciesCreate` for usage native `Array#slice` where it's possible\n    var Constructor, result, n;\n    if (isArray(O)) {\n      Constructor = O.constructor;\n      // cross-realm fallback\n      if (isConstructor(Constructor) && (Constructor === Array || isArray(Constructor.prototype))) {\n        Constructor = undefined;\n      } else if (isObject(Constructor)) {\n        Constructor = Constructor[SPECIES];\n        if (Constructor === null) Constructor = undefined;\n      }\n      if (Constructor === Array || Constructor === undefined) {\n        return un$Slice(O, k, fin);\n      }\n    }\n    result = new (Constructor === undefined ? Array : Constructor)(max(fin - k, 0));\n    for (n = 0; k < fin; k++, n++) if (k in O) createProperty(result, n, O[k]);\n    result.length = n;\n    return result;\n  }\n});\n"],"sourceRoot":""}